(this.webpackJsonpstudybuddy=this.webpackJsonpstudybuddy||[]).push([[0],{178:function(e,t,n){},226:function(e,t,n){},249:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){"use strict";n.r(t);var a,r,c,s,i,o=n(0),l=n.n(o),d=n(29),u=n.n(d),j=n(31),b=(n(226),n(28)),p=n(24),h=n(424),O=n(451),m=n(428),f=n(15),v=n.n(f),g=n(20),x=n(127),y=function(e,t){return function(){var n=Object(g.a)(v.a.mark((function n(a,r){var c,s;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x({method:"post",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/login"),data:{username:e,password:t}});case 3:return c=n.sent,s=c.data,console.log(s),a({type:"LOGIN_SUCCESS",payload:{username:s.currentUser,isAdmin:s.isAdmin}}),n.abrupt("return",s);case 10:return n.prev=10,n.t0=n.catch(0),alert("incorrect password or username"),a({type:"LOGIN_FAIL"}),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 16:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}()},S=function(){return function(e){e({type:"LOGOUT"})}},_=n(127),C=function(){return function(){var e=Object(g.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/event-dashboard")});case 3:a=e.sent,console.log(a.data),t({type:"SET_EVENTS",payload:{events:a.data}}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0.response),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()},w=n(11),E=n(429),T=n(441),N=n(438),A=n(439),I=n(1),D=Object(E.a)((function(e){return{eventDate:{color:e.palette.primary.main,fontWeight:"bold"},eventTitle:{fontWeight:"bold"},eventDescription:{marginBottom:e.spacing(1.4)},eventAttendee:{display:"flex",flexDirection:"row",gap:e.spacing(3)},eventCard:{borderTop:"solid 0.5px ".concat(e.palette.gray.dark),display:"flex",alignItems:"center",minWidth:e.spacing(60),width:"100%",height:"100%"},eventCardImageContainer:{height:e.spacing(15),width:"25%"},eventCardImage:{width:"100%",height:"100%",borderRadius:e.spacing(2)},eventCardInfo:{display:"flex",flexDirection:"column",padding:e.spacing(3),textAlign:"left",justifyContent:"center",width:"70%"}}})),R=function(e){var t=e.id,n=e.title,a=e.attendees,r=e.date,c=e.description,s=e.maxSpots,i=e.image,o=e.isAttending,l=e.isHost,d=D(),u=Object(p.g)();return console.log(i),Object(I.jsx)(N.a,{onClick:function(){return u.push("/event-dashboard/".concat(t))},children:Object(I.jsxs)(A.a,{elevation:0,className:d.eventCard,children:[Object(I.jsx)("div",{className:d.eventCardImageContainer,children:"undefined"===typeof i?Object(I.jsx)("img",{alt:"event",src:"https://res.cloudinary.com/dllebueou/image/upload/v1638921742/default_event_foihwz.png",className:d.eventCardImage}):Object(I.jsx)("img",{alt:"event",src:i,className:d.eventCardImage})}),Object(I.jsxs)("div",{className:d.eventCardInfo,children:[Object(I.jsx)(T.a,{variant:"body1",sx:{fontWeight:"bold"},className:d.eventDate,children:r}),Object(I.jsx)(T.a,{variant:"body1",sx:{fontWeight:"bold"},className:d.eventTitle,children:n}),Object(I.jsx)(T.a,{color:"GrayText",variant:"body1",className:d.eventDescription,children:c}),Object(I.jsxs)("div",{className:d.eventAttendee,children:[Object(I.jsxs)(T.a,{color:"GrayText",variant:"body1",children:[a.length," attendees"]}),Object(I.jsxs)(T.a,{color:"red",variant:"body1",children:[s-a.length," spots left"]}),l&&Object(I.jsx)(T.a,{sx:{fontWeight:"bold"},color:"red",variant:"body1",children:"Host"}),!l&&o&&Object(I.jsx)(T.a,{sx:{fontWeight:"bold"},color:"red",variant:"body1",children:"Attending"})]})]})]})})},k=n(354),L=n(413),P=Object(E.a)((function(e){return{root:{position:"relative",marginBottom:e.spacing(7)},middleSection:{background:e.palette.primary.main,display:"flex",justifyContent:"center",alignItems:"center",paddingTop:e.spacing(20)},title:{"&:after":{content:'""',margin:"0 auto",marginTop:e.spacing(2.5),marginBottom:e.spacing(3),display:"block",width:e.spacing(10),height:"3px",background:"white",zIndex:-1}},wave:{border:"none"}}})),F=function(){var e=P(),t=Object(k.a)();return Object(I.jsxs)("div",{className:e.root,children:[Object(I.jsx)("div",{className:e.middleSection,children:Object(I.jsxs)("div",{className:e.textContainer,children:[Object(I.jsx)(L.a,{sx:{color:"white",fontSize:t.spacing(8)}}),Object(I.jsx)(T.a,{className:e.title,sx:{color:"white"},variant:"h1",children:"Want to study? Grab a buddy!"}),Object(I.jsx)(T.a,{sx:{color:"white"},variant:"h2",children:"Find your study buddy today"})]})}),Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 250",className:e.wave,children:Object(I.jsx)("path",{fill:t.palette.primary.main,fillOpacity:"1",d:"M0,160L48,170.7C96,181,192,203,288,202.7C384,203,480,181,576,165.3C672,149,768,139,864,144C960,149,1056,171,1152,186.7C1248,203,1344,213,1392,218.7L1440,224L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"})})]})},H=n(50),U=n(442),W=n(414),B=n(415),K=n(416),z=Object(E.a)((function(e){return{root:{display:"flex",justifyContent:"center",marginBottom:e.spacing(10)}}})),q=function(){var e=z(),t=Object(H.a)();return Object(I.jsx)("div",{className:e.root,children:Object(I.jsxs)(U.a,{maxWidth:"lg",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gap:5,children:[Object(I.jsxs)(U.a,{gridColumn:"span 4",children:[Object(I.jsx)(W.a,{sx:{color:t.palette.primary.main,fontSize:t.spacing(10),marginBottom:t.spacing(5)}}),Object(I.jsx)(T.a,{variant:"h5",children:"Find events around you through the Events Explorer"})]}),Object(I.jsx)(U.a,{gridColumn:"span 4",children:Object(I.jsxs)("div",{className:e.featureItem,children:[Object(I.jsx)(B.a,{sx:{color:t.palette.primary.main,fontSize:t.spacing(10),marginBottom:t.spacing(5)}}),Object(I.jsx)(T.a,{variant:"h5",children:"Meet students around you"})]})}),Object(I.jsx)(U.a,{gridColumn:"span 4",children:Object(I.jsxs)("div",{className:e.featureItem,children:[Object(I.jsx)(K.a,{sx:{color:t.palette.primary.main,fontSize:t.spacing(10),marginBottom:t.spacing(5)}}),Object(I.jsx)(T.a,{variant:"h5",children:"Create your own events"})]})})]})})},M=Object(E.a)((function(e){return{eventsContainer:{display:"flex",width:"100%",height:"calc(100vh - 80px)",justifyContent:"center"},events:{borderRadius:"50%",width:e.spacing(80),padding:e.spacing(5)},features:{display:"flex",justifyContent:"center"}}})),V=function(e){var t=e.isLoggedIn,n=e.user,a=e.events,r=e.getEvents,c=M();return Object(o.useEffect)(Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hi"),e.next=3,r();case 3:case"end":return e.stop()}}),e)}))),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(F,{}),Object(I.jsx)(q,{}),Object(I.jsxs)("div",{className:c.eventsContainer,children:[Object(I.jsxs)("div",{className:c.events,float:"right",children:[Object(I.jsx)("h1",{children:Object(I.jsx)(T.a,{variant:"h2",children:"You might be interested in..."})}),a.map((function(e){return!e.attendees.includes(n)&&Object(I.jsx)(R,Object(w.a)(Object(w.a)({},e),{},{isAttending:e.attendees.includes(n),isHost:e.host===n}))}))]}),t&&Object(I.jsx)("div",{className:c.events,float:"left",children:Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{children:Object(I.jsx)(T.a,{variant:"h2",children:"Your upcoming events"})}),a.map((function(e){return e.attendees.includes(n)&&Object(I.jsx)(R,Object(w.a)(Object(w.a)({},e),{},{isAttending:e.attendees.includes(n),isHost:e.host===n}))}))]})})]})]})},G=Object(j.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,user:e.auth.user,events:e.events.events}}),{logout:S,getEvents:C})(V),Q=n(54),Y=n.n(Q),J=n(8),X=n(434),$=n(443),Z=n(427),ee=n(446),te=n(431),ne=n(425),ae=n(426),re=n(417),ce=n(197),se=n(440),ie=(n.p,Object(E.a)((function(e){return{eventDate:{color:e.palette.primary.main,fontWeight:"bold"},eventTitle:{fontWeight:"bold"},eventDescription:{marginBottom:e.spacing(1.4)},eventAttendee:{display:"flex",flexDirection:"column"},eventCard:{display:"flex",alignItems:"center",width:"100%",height:"100%"},eventCardImageContainer:{height:e.spacing(15),width:e.spacing(20)},eventCardImage:{width:"100%",height:"100%",borderRadius:e.spacing(2)},eventCardInfo:{display:"flex",flexDirection:"column",padding:e.spacing(2),textAlign:"left",justifyContent:"center"}}}))),oe=function(e){var t=e.title,n=e.attendees,a=e.date,r=e.maxSpots,c=e.isAttending,s=e.isHost,i=ie();return Object(I.jsx)(A.a,{elevation:0,className:i.eventCard,children:Object(I.jsxs)("div",{className:i.eventCardInfo,children:[Object(I.jsx)(T.a,{variant:"body1",sx:{fontWeight:"bold"},className:i.eventDate,children:a}),Object(I.jsx)(T.a,{variant:"body1",sx:{fontWeight:"bold"},className:i.eventTitle,children:t}),Object(I.jsxs)("div",{className:i.eventAttendee,children:[Object(I.jsxs)(T.a,{color:"GrayText",variant:"body1",children:[n.length," attendees"]}),Object(I.jsxs)(T.a,{color:"red",variant:"body1",children:[r-n.length," spots left"]}),s&&Object(I.jsx)(T.a,{sx:{fontWeight:"bold"},color:"red",variant:"body1",children:"Host"}),!s&&c&&Object(I.jsx)(T.a,{sx:{fontWeight:"bold"},color:"red",variant:"body1",children:"Attending"})]})]})})},le=Object(E.a)((function(e){return{container:{height:"100%",width:"100%"},markerRed:{position:"relative",color:"red"},markerGreen:{position:"relative",color:e.palette.primary.main},markerLightGreen:{position:"relative",color:e.palette.primary.dark},markerPopup:{borderRadius:"50%",position:"absolute",bottom:50,left:-70,width:e.spacing(20),zIndex:999,padding:e.spacing(1)}}})),de=function(e){var t=e.event,n=e.$hover,a=e.isAttending,r=e.isHost,c=le();return Object(I.jsxs)("div",{className:c.marker,children:[n&&Object(I.jsx)(se.a,{className:c.markerPopup,children:Object(I.jsx)(oe,Object(w.a)(Object(w.a)({},t),{},{isAttending:a,isHost:r}))}),Object(I.jsx)(W.a,{fontSize:"large",className:a?c.markerGreen:c.markerLightGreen})]})},ue=function(e){var t=e.$hover,n=le();return Object(I.jsxs)("div",{className:n.marker,children:[t&&Object(I.jsx)(se.a,{className:n.markerPopup,children:Object(I.jsx)(T.a,{variant:"body1",children:"My Location"})}),Object(I.jsx)(W.a,{fontSize:"large",className:n.markerRed})]})},je=function(e){var t=e.user,n=e.events,a=le(),r=Object(p.g)(),c=Object(o.useState)({}),s=Object(J.a)(c,2),i=s[0],l=s[1],d=Object(o.useState)(),u=Object(J.a)(d,2),j=u[0],b=u[1];return Object(o.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){l({lat:e.coords.latitude,lng:e.coords.longitude}),b({lat:e.coords.latitude,lng:e.coords.longitude})}),(function(e){alert("We could not get your location.")}),{enableHighAccuracy:!1,maximumAge:1/0})}),[]),Object(I.jsx)("div",{className:a.container,children:Object(I.jsxs)(ce.a,{bootstrapURLKeys:{key:"AIzaSyB_RUPihF4_K2RXvpCKHYB7GPwd2Nb7Y_U"},yesIWantToUseGoogleMapApiInternals:!0,onChildClick:function(e,t){t.event&&(b({lat:t.lat,lng:t.lng}),r.push("/event-dashboard/".concat(t.event._id)))},center:j,zoom:15,children:[Object(I.jsx)(ue,{lat:i.lat,lng:i.lng}),n.map((function(e){return Object(I.jsx)(de,{isAttending:e.attendees.includes(t),isHost:e.host===t,event:e,text:e.title,lat:e.location.lat,lng:e.location.lng})}))]})})},be=Object(E.a)((function(e){return{container:{display:"flex",width:"100%",height:"calc(100vh - 80px)"},map:{flex:1,width:"50%"},mapImage:{width:"100%",height:"100%"},eventsList:{borderRadius:"50%",width:e.spacing(80),padding:e.spacing(5)},eventsFilter:{display:"flex",marginBottom:e.spacing(2),flexDirection:"row",justifyContent:"space-around",alignItems:"center",width:"100%",height:"auto"},eventsFilterItem:{},dateTimePopover:{display:"flex",flexDirection:"column",padding:e.spacing(4)},marginTop:{marginTop:e.spacing(3)}}})),pe=function(e){var t=e.user,n=e.events,a=e.setFilter,r=e.getEvents,c=be(),s=Object(o.useState)({showEndTime:!1,startTime:Y()(),endTime:Y()(),keyword:""}),i=Object(J.a)(s,2),l=i[0],d=i[1],u=Object(o.useState)(null),j=Object(J.a)(u,2),b=j[0],p=j[1],h=Boolean(b);return Object(o.useEffect)(Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)}))),[]),Object(I.jsxs)(U.a,{className:c.container,children:[Object(I.jsx)(U.a,{className:c.map,children:Object(I.jsx)(je,{events:n,user:t})}),Object(I.jsxs)(U.a,{className:c.eventsList,children:[Object(I.jsx)(re.b,{dateAdapter:ae.a,children:Object(I.jsxs)(U.a,{className:c.eventsFilter,children:[Object(I.jsx)(X.a,{className:c.eventsFilterItem,children:Object(I.jsx)(T.a,{variant:"body1",children:"Near me"})}),Object(I.jsxs)(U.a,{className:c.eventsFilterItem,children:[Object(I.jsx)(X.a,{onClick:function(e){return p(e.currentTarget)},children:Object(I.jsx)(T.a,{variant:"body1",children:"Time"})}),Object(I.jsx)($.a,{open:h,anchorEl:b,onClose:function(){return p(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(I.jsxs)(U.a,{className:c.dateTimePopover,children:[Object(I.jsxs)(U.a,{children:[Object(I.jsx)(ne.a,{label:"Start Date and Time",value:l.startTime,onChange:function(e){return d(Object(w.a)(Object(w.a)({},l),{},{startTime:e}))},renderInput:function(e){return Object(I.jsx)(Z.a,Object(w.a)({},e))}}),Object(I.jsx)(ee.a,{label:"Set end time",sx:{marginLeft:"5px"},control:Object(I.jsx)(te.a,{checked:l.showEndTime,onChange:function(){d(Object(w.a)(Object(w.a)({},l),{},{showEndTime:!l.showEndTime}))}})})]}),l.showEndTime&&Object(I.jsx)(U.a,{sx:{marginTop:"20px"},children:Object(I.jsx)(ne.a,{label:"End Date and Time",value:l.endTime,onChange:function(e){return d(Object(w.a)(Object(w.a)({},l),{},{endTime:e}))},renderInput:function(e){return Object(I.jsx)(Z.a,Object(w.a)({},e))}})})]})})]}),Object(I.jsx)(U.a,{className:c.eventFilterItem,children:Object(I.jsx)(Z.a,{id:"filter-keyword",value:l.keyword,onChange:function(e){return d(Object(w.a)(Object(w.a)({},l),{},{keyword:e.target.value}))},label:"Search for a keyword!"})}),Object(I.jsx)(X.a,{onClick:function(){return a(l)},variant:"contained",className:c.eventsFilterItem,children:Object(I.jsx)(T.a,{variant:"body1",children:"Submit"})})]})}),Object(I.jsx)(U.a,{className:c.events,children:n.map((function(e){return Object(I.jsx)(R,Object(w.a)(Object(w.a)({},e),{},{isAttending:e.attendees.includes(t),isHost:e.host===t}))}))})]})]})},he=function(e,t){var n=t;return e.startTime&&(n=n.filter((function(t){return Y()(t.date,"ddd MMM DD yyyy HH:mm")>=e.startTime}))),e.showEndTime&&(n=n.filter((function(t){return Y()(t.date,"ddd MMM DD yyyy HH:mm")<=e.endTime}))),e.keyword&&(n=n.filter((function(t){return t.title.includes(e.keyword)}))),n},Oe=Object(j.b)((function(e){return{user:e.auth.user,events:he(e.events.filter,e.events.events)}}),{setFilter:function(e){return function(t,n){t({type:"SET_FILTER",payload:{filter:e}})}},getEvents:C})(pe),me=n(127),fe=function(e){return Object(g.a)(v.a.mark((function t(){var n,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,me({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/users")});case 3:return n=t.sent,a=n.data.filter((function(t){return e.includes(t.username)})),t.abrupt("return",a.map((function(e){return{username:e.username,userSchool:e.userSchool}})));case 8:return t.prev=8,t.t0=t.catch(0),console.log(t.t0.response),t.abrupt("return",t.t0.response);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))},ve=n(437),ge=n(449),xe=n(445),ye=n(436),Se=n(68),_e=(n(249),n(118)),Ce=n.n(_e),we=(n.p,n.p,n(433)),Ee=n(447),Te=n(448),Ne=Object(E.a)((function(e){return{eventDate:{color:e.palette.primary.main,fontWeight:"bold"},eventTitle:{fontWeight:"bold"},eventDescription:{marginBottom:e.spacing(1.4)},eventAttendee:{display:"flex",flexDirection:"row",gap:e.spacing(3)},eventCard:{borderTop:"solid 0.5px ".concat(e.palette.gray.dark),display:"flex",alignItems:"center",width:"100%",height:"100%"},eventCardImageContainer:{height:e.spacing(15),width:e.spacing(20)},eventCardImage:{width:"100%",height:"100%",borderRadius:e.spacing(2)},eventCardInfo:{display:"flex",flexDirection:"column",padding:e.spacing(3),paddingLeft:e.spacing(5),textAlign:"left",justifyContent:"center"}}})),Ae=function(e){var t=e.username,n=e.userSchool,a=e.profileImage,r=(Ne(),Object(p.g)());return Object(I.jsx)(N.a,{onClick:function(){return r.push("/profile/".concat(t))},children:Object(I.jsxs)(we.a,{children:[Object(I.jsx)(Ee.a,{children:Object(I.jsx)(ve.a,{alt:t,src:a})}),Object(I.jsx)(Te.a,{primary:Object(I.jsx)(T.a,{variant:"body1",color:"GrayText",children:n}),secondary:Object(I.jsx)(T.a,{sx:{display:"inline",fontWeight:"bold"},variant:"body2",children:t})})]})})},Ie=Object(E.a)((function(e){return{eventDate:{color:e.palette.primary.main,fontWeight:"bold"},eventTitle:{fontWeight:"bold"},eventDescription:{marginBottom:e.spacing(1.4)},eventAttendee:{display:"flex",flexDirection:"row",gap:e.spacing(3)},eventCard:{borderTop:"solid 0.5px ".concat(e.palette.gray.dark),display:"flex",alignItems:"center",width:"100%",height:"100%"},eventCardImageContainer:{height:e.spacing(15),width:e.spacing(20)},eventCardImage:{width:"100%",height:"100%",borderRadius:e.spacing(2)},eventCardInfo:{display:"flex",flexDirection:"column",padding:e.spacing(3),paddingLeft:e.spacing(5),textAlign:"left",justifyContent:"center"}}})),De=function(e){var t=e.question,n=e.answer,a=Ie();return Object(I.jsx)(A.a,{className:a.eventCard,children:Object(I.jsxs)("div",{className:a.eventCardInfo,children:[Object(I.jsx)("div",{className:"questionContainer",children:Object(I.jsxs)(T.a,{sx:{fontWeight:"bold"},variant:"body1",children:["Question:\xa0\xa0\xa0\xa0",t]})}),Object(I.jsxs)("div",{className:"answerContainer",children:[Object(I.jsx)(T.a,{sx:{fontWeight:"bold"},variant:"body1",display:"inline",children:"Answer:\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(I.jsx)(T.a,{variant:"body1",display:"inline",children:n})]})]})})},Re=function(e){var t,n=e.eventID,a=e.user,r=e.isAdmin,c=e.isLoggedIn,s=e.getEvent,i=e.editEvent,l=e.getManyUserData,d=e.addAttendee,u=e.removeAttendee,j=e.addQuestion,b=e.editQuestion,h=e.deleteQuestion,O=Object(p.g)(),m=Object(o.useState)({title:"",description:"",host:"",location:"",maxSpots:void 0,date:void 0,attendees:[],questions:[],image:""}),f=Object(J.a)(m,2),x=f[0],y=f[1],S=Object(o.useState)([]),_=Object(J.a)(S,2),C=_[0],E=_[1],D=Object(o.useState)(),R=Object(J.a)(D,2),k=R[0],L=R[1],P=Object(o.useState)(),F=Object(J.a)(P,2),H=F[0],W=F[1],B=Object(o.useState)(),K=Object(J.a)(B,2),z=K[0],q=(K[1],Object(Se.a)({requestOptions:{},debounce:300})),M=q.ready,V=q.value,G=q.suggestions,Q=G.status,$=G.data,ee=q.setValue,te=q.clearSuggestions,ce=function(e){var t=e.description;return function(){ee(t,!1),te(),Object(Se.b)({address:t}).then((function(e){return Object(Se.c)(e[0])})).then((function(e){var t=e.lat,n=e.lng;W({lat:t,lng:n})})).catch((function(e){console.error(e)}))}};t=void 0!==a&&!(!r&&a!==x.host);var se=Object(o.useState)(!1),ie=Object(J.a)(se,2),oe=ie[0],le=ie[1],de=function(){var e=Object(g.a)(v.a.mark((function e(){var t,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:if(t=e.sent){e.next=7;break}return O.push("/404"),O.go(0),e.abrupt("return");case 7:return me(t.date),e.next=10,l(t.attendees);case 10:r=e.sent,c&&L(t.attendees.includes(a)),E(r),Ce.a.setApiKey("AIzaSyB_RUPihF4_K2RXvpCKHYB7GPwd2Nb7Y_U"),Ce.a.setRegion("can"),Ce.a.fromLatLng("".concat(t.location.lat),"".concat(t.location.lng)).then((function(e){var n=e.results[0].formatted_address;W({lat:t.location.lat,lng:t.location.lng}),y(Object(w.a)(Object(w.a)({},t),{},{location:n,questions:[]})),ee(n)}),(function(e){console.error(e)}));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){return de()}),[]);var ue=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("here"),c){e.next=6;break}alert("You must log in to perform this action."),O.push("/login"),e.next=19;break;case 6:if(x.maxSpots-x.attendees.length!==0){e.next=10;break}alert("No more space available!"),e.next=19;break;case 10:if(k){e.next=16;break}return console.log("addattendee"),e.next=14,d(n,a);case 14:e.next=19;break;case 16:return console.log("removeattendee"),e.next=19,u(n,a);case 19:de();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=Object(o.useRef)(""),be=Object(o.useRef)(""),pe=Object(o.useState)(),he=Object(J.a)(pe,2),Oe=he[0],me=he[1],fe=Object(o.useRef)("");return Object(I.jsxs)("div",{className:"eventDashboard",children:[Object(I.jsxs)("div",{className:"eventTitle",children:[oe?Object(I.jsx)(Z.a,{id:"outlined-title",defaultValue:x.title,inputRef:je}):Object(I.jsx)("h1",{children:x.title}),Object(I.jsxs)("div",{className:"attendee",children:[Object(I.jsx)("div",{className:"avatarContainer",children:Object(I.jsx)(ve.a,{alt:x.host,src:z})}),Object(I.jsxs)("div",{className:"attendeeName",children:["Hosted by ",x.host]})]})]}),Object(I.jsxs)("div",{className:"eventInfoContainer",children:[Object(I.jsx)("div",{className:"attendeesContainer",children:Object(I.jsx)(A.a,{children:Object(I.jsxs)(ge.a,{children:[Object(I.jsx)("div",{className:"cardHeader",children:"Attendees"}),Object(I.jsx)(xe.a,{children:C.map((function(e){var t=e.username,n=e.userSchool,a=e.profileImage;return Object(I.jsx)(Ae,{username:t,userSchool:n,profileImage:a})}))})]})})}),Object(I.jsxs)("div",{className:"middleContainer",children:[Object(I.jsx)("div",{className:"banner",children:Object(I.jsx)("img",{src:x.image,className:"bannerImg",alt:"banner"})}),Object(I.jsx)("div",{className:"eventDescription",children:Object(I.jsx)(A.a,{children:Object(I.jsx)(ge.a,{children:oe?Object(I.jsx)(Z.a,{id:"outlined-multiline-flexible",multiline:!0,maxRows:15,defaultValue:x.description,inputRef:be,style:{width:715}}):x.description})})}),Object(I.jsx)("div",{className:"questionsContainer",children:Object(I.jsx)(A.a,{children:Object(I.jsxs)(ge.a,{children:[Object(I.jsx)("div",{className:"cardHeader",children:"Questions & Answers"}),a!==x.host&&Object(I.jsx)(U.a,{textAlign:"center",children:Object(I.jsx)(X.a,{variant:"contained",size:"small",onClick:function(){if(c){var e=prompt("Post your question:");if(null===e||""===e)return;var t=x.questions.length;if(0===t){j(n,{id:1,q:e,a:""})}else{var a=x.questions[t-1].id+1;j(n,{id:a,q:e,a:""})}}else alert("You must log in to perform this action."),O.push("/login");de()},children:"Got a question?"})}),Object(I.jsxs)(xe.a,{children:[a===x.host&&x.questions.map((function(e){var t=e.id,a=e.q,r=e.a;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(De,{question:a,answer:r}),Object(I.jsx)(X.a,{size:"small",onClick:function(){var e=prompt(a);null!==e&&""!==e&&(b(n,{id:t,q:a,a:e}),de())},children:""!==r?"Edit Response":"Respond"}),Object(I.jsx)(X.a,{size:"small",onClick:function(){h(n,{id:t,q:a,a:r}),de()},children:"Delete Question"})]})})),a!==x.host&&x.questions.map((function(e){var t=e.q,a=e.a;return Object(I.jsx)(De,{question:t,answer:a,addQuestion:j,eventID:n})}))]})]})})})]}),Object(I.jsx)("div",{className:"rightContainer",children:Object(I.jsx)(U.a,{className:"eventInformation",children:Object(I.jsxs)(ye.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:3,children:[Object(I.jsxs)(ye.a,{item:!0,children:[Object(I.jsx)("div",{className:"cardHeader",children:oe?Object(I.jsx)(Z.a,{id:"outlined-spots",defaultValue:x.maxSpots-x.attendees.length,inputRef:fe}):x.maxSpots-x.attendees.length}),Object(I.jsx)("div",{className:"cardInformation",children:"spots left"})]}),Object(I.jsxs)(ye.a,{item:!0,children:[Object(I.jsx)("div",{className:"cardHeader",children:"Location"}),Object(I.jsx)("div",{className:"cardInformation",children:oe?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Z.a,{id:"outlined-location",value:V,disabled:!M,onChange:function(e){return ee(e.target.value)}}),"OK"===Q&&Object(I.jsx)("ul",{children:$.map((function(e){var t=e.place_id,n=e.structured_formatting,a=n.main_text,r=n.seconday_text;return Object(I.jsxs)("li",{onClick:ce(e),className:"suggestions",children:[Object(I.jsx)("strong",{children:a})," ",Object(I.jsx)("small",{children:r})]},t)}))})]}):Object(I.jsx)(N.a,{onClick:function(){window.open("https://maps.google.com?q=".concat(x.location))},children:Object(I.jsx)(T.a,{variant:"body1",children:x.location})})})]}),Object(I.jsxs)(ye.a,{item:!0,children:[Object(I.jsx)("div",{className:"cardHeader",children:"Time and Date"}),Object(I.jsx)("div",{className:"cardInformation",children:oe?Object(I.jsx)(re.b,{dateAdapter:ae.a,children:Object(I.jsx)(ne.a,{label:"Start Date and Time",value:Oe,format:"yyyy-MM-dd:HH:mm",onChange:function(e){return me(e)},renderInput:function(e){return Object(I.jsx)(Z.a,Object(w.a)({},e))}})}):x.date})]}),a!==x.host&&!oe&&Object(I.jsx)(ye.a,{item:!0,children:Object(I.jsx)(X.a,{variant:"contained",onClick:ue,children:k?"Unattend":"Attend"})}),t&&Object(I.jsx)(ye.a,{item:!0,children:Object(I.jsx)(X.a,{variant:"contained",onClick:function(){oe&&i(n,je.current.value,be.current.value,a,Y()(Oe,"ddd MMM DD yyyy HH:mm").toString(),H,fe.current.value),le(!oe),de()},children:oe?"Done":"Edit Event"})})]})})})]})]})},ke=Object(j.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,isAdmin:e.auth.isAdmin,user:e.auth.user}}),{getEvent:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(n,a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/event-dashboard/").concat(e)});case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0.response),t.abrupt("return",t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},editEvent:function(e,t,n,a,r,c,s){return function(){var i=Object(g.a)(v.a.mark((function i(o,l){var d;return v.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_({method:"patch",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/event-dashboard/").concat(e),data:{title:t,description:n,host:a,location:c,date:r,maxSpots:s}});case 3:return d=i.sent,console.log(d.data._id),i.abrupt("return",d.data._id);case 8:return i.prev=8,i.t0=i.catch(0),console.log(i.t0.response),i.abrupt("return",i.t0.response);case 12:case"end":return i.stop()}}),i,null,[[0,8]])})));return function(e,t){return i.apply(this,arguments)}}()},getManyUserData:fe,addAttendee:function(e,t){return Object(g.a)(v.a.mark((function n(){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("here"),n.next=4,_({method:"post",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/event-dashboard/").concat(e,"/attend"),data:{attendee:t}});case 4:a=n.sent,console.log(a.data.event),n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))},removeAttendee:function(e,t){return Object(g.a)(v.a.mark((function n(){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_({method:"delete",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/event-dashboard/").concat(e,"/unattend"),data:{attendee:t}});case 3:a=n.sent,console.log(a.data.event),n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))},addQuestion:function(e,t){return function(n,a){n({type:"ADD_QUESTION",payload:{eventID:e,question:t}})}},editQuestion:function(e,t){return function(n,a){n({type:"EDIT_QUESTION",payload:{eventID:e,question:t}})}},deleteQuestion:function(e,t){return function(n,a){n({type:"DELETE_QUESTION",payload:{eventID:e,question:t}})}}})(Re),Le=n(52),Pe=n(83),Fe=n(195),He=n(119),Ue=He.a({username:He.b("Enter a username").min(3,"Username should be of minimum 3 characters length").required("Username is required"),password:He.b("Enter a password").min(3,"Password should be of minimum 3 characters length").required("Password is required")}),We=function(e){var t=e.isLoggedIn,n=e.login,l=e.register,d=Object(p.g)(),u=Object(o.useState)(!0),j=Object(J.a)(u,2),b=j[0],h=j[1],O=Object(Fe.a)({initialValues:{username:"",password:"",isAdmin:!1},validationSchema:Ue,onSubmit:function(e){!function(e,t,a){b?n(e,t):l(e,t,a)}(e.username,e.password,e.isAdmin)}});return t&&d.goBack(),Object(I.jsx)("div",{className:Object(Pe.a)(a||(a=Object(Le.a)(["\n        width: 100%;\n        height: calc(100vh - 50px);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      "]))),children:Object(I.jsxs)("div",{className:Object(Pe.a)(r||(r=Object(Le.a)(["\n          border: solid 1px grey;\n          border-radius: 15px;\n          display: flex;\n          flex-direction: column;\n          margin: 50px;\n          padding: 50px;\n          width: 500px;\n        "]))),children:[Object(I.jsx)("h1",{className:"title",children:b?"Welcome back!":"New user!"}),Object(I.jsxs)("form",{className:Object(Pe.a)(c||(c=Object(Le.a)(["\n            display: flex;\n            flex-direction: column;\n          "]))),onSubmit:O.handleSubmit,children:[Object(I.jsx)(Z.a,{id:"username",name:"username",margin:"dense",label:"Username",value:O.values.username,onChange:O.handleChange,error:O.touched.username&&Boolean(O.errors.username),helperText:O.touched.username&&O.errors.username}),Object(I.jsx)(Z.a,{id:"password",name:"password",margin:"dense",label:"Password",value:O.values.password,onChange:O.handleChange,error:O.touched.password&&Boolean(O.errors.password),helperText:O.touched.password&&O.errors.password,type:"password"}),!b&&Object(I.jsx)(ee.a,{control:Object(I.jsx)(te.a,{id:"isAdmin",value:O.values.isAdmin,onClick:O.handleChange}),label:"Admin"}),Object(I.jsxs)("div",{className:Object(Pe.a)(s||(s=Object(Le.a)(["\n              display: flex;\n              gap: 10px;\n              margin-top: 30px;\n              justify-content: center;\n            "]))),children:[Object(I.jsx)(X.a,{className:Object(Pe.a)(i||(i=Object(Le.a)(["\n                box-shadow: none;\n              "]))),variant:"contained",type:"submit",children:b?"Login":"Signup"}),Object(I.jsx)(X.a,{variant:"outlined",onClick:function(){return h(!b)},type:"Button",children:"Switch to ".concat(b?"Sign up":"Log in")})]})]})]})})},Be={login:y,register:function(e,t,n,a){return Object(g.a)(v.a.mark((function r(){var c;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,x({method:"post",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/user"),data:{username:e,password:t,isAdmin:n,profileImage:a}});case 3:c=r.sent,console.log(c.data),alert("Event successfully created!"),r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),console.log(r.t0.response),r.abrupt("return",r.t0.response);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))}},Ke=Object(j.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}),Be)(We),ze=(n(178),n(18)),qe=n(19),Me=n(30),Ve=n(32),Ge=function(e){Object(Me.a)(n,e);var t=Object(Ve.a)(n);function n(){return Object(ze.a)(this,n),t.apply(this,arguments)}return Object(qe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.events,n=e.user;return Object(I.jsx)("div",{className:"userEventList",children:t.map((function(e){return Object(I.jsx)(R,Object(w.a)(Object(w.a)({},e),{},{isHost:n===e.host,isAttending:e.attendees.includes(n)}))}))})}}]),n}(l.a.Component),Qe=Ge,Ye=function(e){var t=e.followingList;Object(p.g)();return Object(I.jsxs)("div",{className:"following",children:[Object(I.jsxs)(T.a,{variant:"h6",className:"listHeader",children:["Following:"," "]}),t.map((function(e){var t=e.username,n=e.userSchool,a=e.profileImage;return Object(I.jsx)(Ae,{username:t,userSchool:n,profileImage:a})}))]})},Je=function(e){var t=e.isLoggedIn,n=e.addFollowing,a=e.removeFollowing,r=e.userID,c=e.user,s=e.getEvents,i=e.getUserAttendingEvents,l=e.getManyUserData,d=e.getUserData,u=e.editable,j=e.editProfileInfo,b=e.getHostedEvents,h=Object(p.g)(),O=Object(o.useState)({fullName:"",username:"",userSchool:"",isAdmin:!1,following:[],contact:"",userEvents:[],hostedEvents:[],profileImage:""}),m=Object(J.a)(O,2),f=m[0],x=m[1],y=Object(o.useState)([]),S=Object(J.a)(y,2),_=S[0],C=S[1],E=Object(o.useState)({username:"",isAdmin:!1,following:[]}),N=Object(J.a)(E,2),A=N[0],D=N[1],R=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","duespamm"),e.next=5,fetch("https://api.cloudinary.com/v1_1/dllebueou/image/upload",{method:"POST",body:n});case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,x(Object(w.a)(Object(w.a)({},f),{},{image:r.secure_url}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(g.a)(v.a.mark((function e(){var n,a,o,u,j,p,h,O;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}return e.next=3,s();case 3:return e.next=5,d(r);case 5:return n=e.sent,a=i(r),o=b(r),e.next=10,d(c);case 10:return u=e.sent,j=u.username,p=u.following,h=u.isAdmin,e.next=16,l(n.following);case 16:O=e.sent,x(Object(w.a)(Object(w.a)({},n),{},{userEvents:a,hostedEvents:o})),D({username:j,following:p,isAdmin:h}),C(O);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)(Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:case"end":return e.stop()}}),e)}))),[r]);var L=A.following.includes(r),P=Object(o.useState)(!1),F=Object(J.a)(P,2),H=F[0],U=F[1],W=Object(o.useRef)(),B=Object(o.useRef)(),K=Object(o.useRef)(),z=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H||t){e.next=3;break}return e.next=3,j(r,B.current.value,W.current.value,K.current.value,f.profileImage);case 3:U(!H),k();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t||(alert("You must log in to perform this action!"),h.push("/login")),Object(I.jsxs)("div",{className:"profilePage",children:[Object(I.jsxs)("div",{className:"user",children:[!u&&Object(I.jsx)(X.a,{className:"followEditButton",onClick:function(){L?a(c,r):n(c,r),k()},children:L?"Unfollow":"Follow"}),u&&Object(I.jsx)(X.a,{className:"followEditButton",onClick:function(){return z(!1)},children:H?"Save":"Edit"}),H&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X.a,{className:"followEditButton",onClick:function(){return z(!0)},children:"Cancel"}),Object(I.jsx)(X.a,{className:"deleteBanButton",children:"Delete Account"})]}),!u&&A.isAdmin&&!f.isAdmin&&Object(I.jsx)(X.a,{className:"deleteBanButton",children:"Ban"}),Object(I.jsx)("img",{src:f.profileImage,className:"avatar",alt:"Avatar"}),Object(I.jsxs)("ul",{className:"userInfo",children:[Object(I.jsx)("li",{className:"userFullName",children:H?Object(I.jsx)(Z.a,{id:"outlined-fullname",variant:"outlined",label:"Full Name",defaultValue:f.fullName,inputRef:W,size:"small",margin:"dense"}):Object(I.jsx)(T.a,{variant:"body1",children:f.fullName})}),Object(I.jsx)("li",{children:Object(I.jsxs)(T.a,{variant:"body2",children:["Username: ",f.username]})}),Object(I.jsx)("li",{children:H?Object(I.jsx)(Z.a,{id:"outlined-school",variant:"outlined",label:"School",defaultValue:f.userSchool,inputRef:B,size:"small",margin:"dense"}):Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(T.a,{variant:"body2",children:["School: ",f.userSchool]})})}),Object(I.jsx)("li",{children:H?Object(I.jsx)(Z.a,{id:"outlined-title",variant:"outlined",label:"Contact",defaultValue:f.contact,inputRef:K,size:"small",margin:"dense"}):Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(T.a,{variant:"body2",children:["Contact: ",f.contact]})})}),H&&Object(I.jsxs)("li",{children:[Object(I.jsx)(T.a,{variant:"body2",children:"Upload image"}),Object(I.jsx)("input",{type:"file",onChange:R})]})]})]}),Object(I.jsxs)("div",{className:"bottomContainer",children:[Object(I.jsxs)("div",{className:"eventsContainer",children:[Object(I.jsxs)(T.a,{variant:"h6",className:"listHeader",children:[" ",c===r?"My Events":"Hosted events"," "]}),Object(I.jsx)(Qe,{events:f.hostedEvents,user:c})]}),Object(I.jsxs)("div",{className:"eventsContainer",children:[Object(I.jsxs)(T.a,{variant:"h6",className:"listHeader",children:[" ","Attending Events:"," "]}),Object(I.jsx)(Qe,{events:f.userEvents.filter((function(e){return e.host!==r})),user:c})]}),Object(I.jsx)(Ye,{followingList:_})]})]})},Xe=Object(j.b)((function(e,t){var n=e.auth,a=n.isLoggedIn,r=n.user;return{isLoggedIn:a,editable:a&&r===t.userID,user:r}}),{addFollowing:function(e,t){return function(){var n=Object(g.a)(v.a.mark((function n(a,r){var c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("here"),n.next=4,me({method:"post",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/profile/").concat(e,"/").concat(t)});case 4:c=n.sent,console.log(c.data),n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}()},removeFollowing:function(e,t){return Object(g.a)(v.a.mark((function n(){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,me({method:"delete",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/profile/").concat(e,"/").concat(t)});case 3:a=n.sent,console.log(a.data),n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))},getUserAttendingEvents:function(e){return function(t,n){var a=n().events;return console.log(e,a),a.events.filter((function(t){return t.attendees.includes(e)}))}},getHostedEvents:function(e){return function(t,n){return n().events.events.filter((function(t){return t.host===e}))}},getUserData:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(n,a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,me({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/profile/").concat(e)});case 4:return r=t.sent,console.log(r.data),t.abrupt("return",r.data);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0.response),t.abrupt("return",t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},getEvents:C,getManyUserData:fe,editProfileInfo:function(e,t,n,a,r){return Object(g.a)(v.a.mark((function c(){var s;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,me({method:"patch",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/profile/").concat(e),data:{contact:a,fullName:n,userSchool:t,profileImage:r}});case 3:return s=c.sent,console.log(s.data._id),c.abrupt("return",s.data._id);case 8:return c.prev=8,c.t0=c.catch(0),console.log(c.t0.response),c.abrupt("return",c.t0.response);case 12:case"end":return c.stop()}}),c,null,[[0,8]])})))}})(Je),$e=(n(348),function(e){var t=e.user,n=e.isLoggedIn,a=e.createEvent,r=Object(p.g)(),c="",s=Object(o.useRef)(""),i=Object(o.useRef)(""),l=Object(o.useState)(),d=Object(J.a)(l,2),u=d[0],j=d[1],b=Object(o.useState)(),h=Object(J.a)(b,2),O=h[0],m=h[1],f=Object(Se.a)({requestOptions:{},debounce:300}),x=f.ready,y=f.value,S=f.suggestions,_=S.status,C=S.data,E=f.setValue,N=f.clearSuggestions,A=Object(o.useRef)(""),D=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","duespamm"),e.next=5,fetch("https://api.cloudinary.com/v1_1/dllebueou/image/upload",{method:"POST",body:n});case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,c=r.secure_url;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(v.a.mark((function e(){var o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}alert("You must log in to perform this action."),r.push("/login"),e.next=9;break;case 5:return e.next=7,a(s.current.value,i.current.value,t,Y()(u,"ddd MMM DD yyyy HH:mm").toString(),O,A.current.value,c);case 7:o=e.sent,r.push("/event-dashboard/".concat(o));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){var t=e.description;return function(){E(t,!1),N(),Object(Se.b)({address:t}).then((function(e){return Object(Se.c)(e[0])})).then((function(e){var t=e.lat,n=e.lng;m({lat:t,lng:n})})).catch((function(e){console.error(e)}))}};return n||(alert("You must log in to perform this action."),r.push("/login")),Object(I.jsx)("div",{className:"eventCreation",children:Object(I.jsxs)(U.a,{className:"formContainer",children:[Object(I.jsx)("h2",{children:" Create an event! "}),Object(I.jsxs)(ye.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,children:[Object(I.jsxs)(ye.a,{item:!0,xs:6,sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},children:[Object(I.jsx)(Z.a,{id:"outlined-title",label:"Title",inputRef:s}),Object(I.jsx)(Z.a,{fullWidth:!0,color:"secondary",variant:"outlined",label:"Location",value:y,disabled:!x,onChange:function(e){return E(e.target.value)}}),"OK"===_&&Object(I.jsx)("ul",{className:"suggestions",children:C.map((function(e){var t=e.place_id,n=e.structured_formatting,a=n.main_text;return n.seconday_text,Object(I.jsx)("li",{onClick:k(e),className:"suggestions",children:Object(I.jsx)(T.a,{className:"suggestion-text",variant:"body1",children:a})},t)}))})]}),Object(I.jsxs)(ye.a,{item:!0,xs:6,sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},children:[Object(I.jsx)(Z.a,{id:"outlined-spots",label:"Number of Spots",inputRef:A}),Object(I.jsx)(re.b,{dateAdapter:ae.a,children:Object(I.jsx)(ne.a,{label:"Start Date and Time",value:u,format:"yyyy-MM-dd:HH:mm",onChange:function(e){return j(e)},renderInput:function(e){return Object(I.jsx)(Z.a,Object(w.a)({},e))}})})]}),Object(I.jsx)(ye.a,{item:!0,xs:12,sx:{"& .MuiTextField-root":{m:1,width:"52ch"}},children:Object(I.jsx)(Z.a,{id:"outlined-multiline-flexible",multiline:!0,maxRows:15,label:"Description",inputRef:i})}),Object(I.jsx)(ye.a,{item:!0,xs:6,children:Object(I.jsx)("strong",{children:" Upload image "})}),Object(I.jsx)(ye.a,{item:!0,xs:6,sx:{marginLeft:7},children:Object(I.jsx)("input",{type:"file",onChange:D})}),Object(I.jsx)(ye.a,{item:!0,xs:6,sx:{"& .MuiButton-root":{m:1,width:"25ch"}},children:Object(I.jsx)(X.a,{variant:"contained",onClick:R,children:"Create Event"})})]})]})})}),Ze=Object(j.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,user:e.auth.user,events:e.events}}),{createEvent:function(e,t,n,a,r,c,s){return function(){var i=Object(g.a)(v.a.mark((function i(o,l){var d;return v.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_({method:"post",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_API_URL,"/event-dashboard"),data:{title:e,description:t,host:n,location:r,date:a,maxSpots:c,image:s}});case 3:return d=i.sent,console.log(d.data._id),alert("Event successfully created!"),i.abrupt("return",d.data._id);case 9:return i.prev=9,i.t0=i.catch(0),console.log(i.t0.response),i.abrupt("return",i.t0.response);case 13:case"end":return i.stop()}}),i,null,[[0,9]])})));return function(e,t){return i.apply(this,arguments)}}()}})($e),et=(n(349),n(444)),tt=(n(350),["btn--primary","btn--outline","btn--test"]),nt=["btn--medium","btn--large"],at=function(e){var t=e.children,n=e.type,a=e.onClick,r=e.buttonStyle,c=e.buttonSize,s=(e.logout,tt.includes(r)?r:tt[0]),i=nt.includes(c)?c:nt[0];return Object(I.jsx)(b.b,{to:"/",className:"btn-mobile",children:Object(I.jsx)("button",{className:"btn ".concat(s," ").concat(i),onClick:a,type:n,children:t})})},rt=(n(351),Object(E.a)((function(e){return{navbar:{background:e.palette.primary.main},profileIcon:{color:"white"},profileIconButton:{marginRight:e.spacing(3)},whiteText:{textDecoration:"none",color:"white"}}})));var ct=function(e){var t=e.logout,n=e.isLoggedIn,a=e.user,r=rt(),c=Object(o.useState)(!1),s=Object(J.a)(c,2),i=s[0],l=s[1],d=Object(o.useState)(!0),u=Object(J.a)(d,2),j=(u[0],u[1]),p=function(){return l(!i)},h=function(){return l(!1)},O=function(){window.innerWidth<=960?j(!1):j(!0)};return Object(o.useEffect)((function(){O()}),[]),window.addEventListener("resize",O),Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("nav",{className:"navbar ".concat(r.navbar),children:Object(I.jsxs)("div",{className:"navbar-container",children:[Object(I.jsxs)(b.b,{to:"/",className:"navbar-logo",onClick:h,children:[Object(I.jsx)(T.a,{variant:"h2",children:"StudyBuddy\xa0"}),Object(I.jsx)(L.a,{sx:{color:"white",fontSize:35},onClick:p})]}),Object(I.jsx)("div",{className:"menu-icon",onClick:p,children:Object(I.jsx)("i",{className:i?"fas fa-times":"fas fa-bars"})}),Object(I.jsxs)("ul",{className:i?"nav-menu active":"nav-menu",children:[Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(b.b,{to:"/",className:"nav-links",onClick:h,children:Object(I.jsx)(T.a,{variant:"h6",children:"Home"})})}),Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(b.b,{to:"/events-explorer",className:"nav-links",onClick:h,children:Object(I.jsx)(T.a,{variant:"h6",children:"Events Explorer"})})}),Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(b.b,{to:"/event-creation",className:"nav-links",onClick:h,children:Object(I.jsx)(T.a,{variant:"h6",children:"Create Event"})})})]}),n?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:r.profileIconButton,children:Object(I.jsx)(et.a,{children:Object(I.jsx)(b.b,{to:"/profile/".concat(a),children:Object(I.jsx)(B.a,{fontSize:"large",className:r.profileIcon})})})}),Object(I.jsx)(at,{buttonStyle:"btn--outline",onClick:t,children:Object(I.jsx)(T.a,{variant:"h6",children:"Logout"})})]}):Object(I.jsx)(at,{buttonStyle:"btn--outline",children:Object(I.jsx)(b.b,{to:"/login",className:r.whiteText,children:Object(I.jsx)(T.a,{variant:"h6",children:"Login"})})})]})})})},st=Object(j.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,user:e.auth.user}}),{login:y,logout:S})(ct),it=Object(E.a)((function(e){return{navbar:{background:e.palette.primary.main},profileIcon:{color:"white"},profileIconButton:{marginRight:e.spacing(3)},whiteText:{textDecoration:"none",color:"white"}}}));var ot,lt,dt,ut,jt,bt=function(){var e=it();return Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{children:Object(I.jsx)(T.a,{variant:"h6",children:"404"})}),Object(I.jsx)("h2",{children:"The page you have requested cannot be located"}),Object(I.jsx)("div",{className:"attendButton",children:Object(I.jsx)(X.a,{variant:"contained",children:Object(I.jsx)(b.b,{to:"/",className:e.whiteText,children:Object(I.jsx)(T.a,{variant:"h6",children:"Return Home"})})})})]})},pt=n(4),ht=n(196),Ot=(n(352),Object(ht.a)({palette:{primary:{light:"#e4ebdd",dark:"#212e26",main:"#618770",contrastText:"#fff"},secondary:{main:"#96A4AC",light:"#CFDAD6",contrastText:"#fff"},gray:{main:"#F6F6F5",dark:"#dddddd",contrastText:"#4a4a49"}}}));Ot.typography.h1=(ot={fontFamily:"Avenir Black",fontSize:Ot.spacing(7)},Object(pt.a)(ot,Ot.breakpoints.down("sm"),{fontSize:Ot.spacing(5.5)}),Object(pt.a)(ot,Ot.breakpoints.down("xs"),{fontSize:Ot.spacing(4)}),ot),Ot.typography.h2=Object(w.a)(Object(w.a)({},Ot.typography.h2),{},(lt={fontSize:Ot.spacing(4),fontFamily:"Avenir Roman"},Object(pt.a)(lt,Ot.breakpoints.down("sm"),{fontSize:Ot.spacing(4)}),Object(pt.a)(lt,Ot.breakpoints.down("xs"),{fontSize:Ot.spacing(3)}),lt)),Ot.typography.h3=Object(w.a)(Object(w.a)({},Ot.typography.h3),{},(dt={fontFamily:"Avenir",fontSize:Ot.spacing(4)},Object(pt.a)(dt,Ot.breakpoints.down("sm"),{fontSize:Ot.spacing(4)}),Object(pt.a)(dt,Ot.breakpoints.down("xs"),{fontSize:Ot.spacing(3)}),dt)),Ot.typography.h4=Object(w.a)(Object(w.a)({},Ot.typography.h4),{},{fontFamily:"Avenir Book",fontSize:Ot.spacing(2.8)}),Ot.typography.h5=Object(w.a)(Object(w.a)({},Ot.typography.h5),{},Object(pt.a)({fontFamily:"Avenir",fontSize:Ot.spacing(3)},Ot.breakpoints.down("xs"),{fontSize:Ot.spacing(3.1)})),Ot.typography.h6=Object(w.a)(Object(w.a)({},Ot.typography.h6),{},Object(pt.a)({fontFamily:"Avenir",fontSize:Ot.spacing(2.5),fontWeight:"lighter"},Ot.breakpoints.down("xs"),{fontSize:Ot.spacing(2)})),Ot.typography.body1=Object(w.a)(Object(w.a)({},Ot.typography.body1),{},(ut={fontFamily:"Avenir Roman",fontSize:Ot.spacing(2)},Object(pt.a)(ut,Ot.breakpoints.down("sm"),{fontSize:Ot.spacing(2.1)}),Object(pt.a)(ut,Ot.breakpoints.down("xs"),{fontSize:Ot.spacing(1.9)}),ut)),Ot.typography.body2=Object(w.a)(Object(w.a)({},Ot.typography.body2),{},Object(pt.a)({fontFamily:"Avenir Book",fontSize:Ot.spacing(2.1)},Ot.breakpoints.down("sm"),{fontSize:Ot.spacing(1.9)})),Ot.typography.subtitle2=Object(w.a)(Object(w.a)({},Ot.typography.subtitle2),{},(jt={color:"#9b9d9e",fontFamily:"Avenir Book",fontSize:Ot.spacing(2.5),fontWeight:"bold",marginBottom:Ot.spacing(2.7)},Object(pt.a)(jt,Ot.breakpoints.down("md"),{fontSize:Ot.spacing(2.3)}),Object(pt.a)(jt,Ot.breakpoints.down("sm"),{fontSize:Ot.spacing(2)}),jt));var mt=Ot;var ft=Object(j.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}))((function(e){return e.isLoggedIn,Object(I.jsx)(h.a,{children:Object(I.jsx)(O.a,{theme:mt,children:Object(I.jsx)(m.b,{injectFirst:!0,children:Object(I.jsx)("div",{className:"App",children:Object(I.jsxs)(b.a,{children:[Object(I.jsx)(st,{}),Object(I.jsxs)(p.d,{children:[Object(I.jsx)(p.b,{exact:!0,path:"/login",component:function(){return Object(I.jsx)(Ke,{})}}),Object(I.jsx)(p.b,{exact:!0,path:"/",component:function(){return Object(I.jsx)(G,{})}}),Object(I.jsx)(p.b,{exact:!0,path:"/events-explorer",component:function(){return Object(I.jsx)(Oe,{})}}),Object(I.jsx)(p.b,{exact:!0,path:"/event-creation",component:function(){return Object(I.jsx)(Ze,{})}}),Object(I.jsx)(p.b,{exact:!0,path:"/event-dashboard/:eventID",render:function(e){var t=e.match;return Object(I.jsx)(ke,{eventID:t.params.eventID})}}),Object(I.jsx)(p.b,{exact:!0,path:"/profile/:userID",render:function(e){var t=e.match;return Object(I.jsx)(Xe,{userID:t.params.userID})}}),Object(I.jsx)(p.b,{exact:!0,path:"/404",component:function(){return Object(I.jsx)(bt,{})}}),Object(I.jsx)(p.a,{from:"*",to:"/404"})]})]})})})})})})),vt=n(93),gt=n(194),xt=n(16),yt=[],St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ADD_USER":return[].concat(Object(xt.a)(e),[{userSchool:"University of Toronto",username:a.username,fullName:a.username,password:a.password,isAdmin:a.isAdmin,following:[],contact:a.contact,profileImage:"https://res.cloudinary.com/dllebueou/image/upload/v1638861739/default_p5jwjn.jpg"}]);case"ADD_FOLLOWING":return e.map((function(e){if(a.follower===e.username){var t=e.following.slice();return t.push(a.following),Object(w.a)(Object(w.a)({},e),{},{following:t})}return e}));case"REMOVE_FOLLOWING":return e.map((function(e){return a.follower===e.username?Object(w.a)(Object(w.a)({},e),{},{following:e.following.filter((function(e){return e!==a.following}))}):e}));case"EDIT_PROFILE":return e.map((function(e){return a.userID===e.username?Object(w.a)(Object(w.a)({},e),{},{userSchool:a.userSchool,fullName:a.fullName,contact:a.contact,profileImage:a.profileImage}):e}));default:return e}},_t=[{isLoggedIn:!1,user:null,isAdmin:null}],Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"LOGIN_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{isLoggedIn:!0,user:a.username,isAdmin:a.isAdmin});case"LOGIN_FAIL":case"LOGOUT":return Object(w.a)(Object(w.a)({},e),{},{isLoggedIn:!1,user:null,isAdmin:null});case"REGISTER_SUCCESS":case"REGISTER_FAIL":return Object(w.a)(Object(w.a)({},e),{},{isLoggedIn:!1});default:return e}},wt={filter:{showEndTime:!1,startTime:"",endTime:"",keyword:""},events:[]},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_EVENTS":return Object(w.a)(Object(w.a)({},e),{},{events:a.events});case"SET_FILTER":return Object(w.a)(Object(w.a)({},e),{},{filter:a.filter});default:return e}},Tt=Object(vt.b)({auth:Ct,users:St,events:Et}),Nt=[gt.a],At=Object(vt.c)(Tt,{},vt.a.apply(void 0,Nt));u.a.render(Object(I.jsx)(j.a,{store:At,children:Object(I.jsx)(ft,{})}),document.getElementById("root"))}},[[353,1,2]]]);
//# sourceMappingURL=main.6268cd03.chunk.js.map